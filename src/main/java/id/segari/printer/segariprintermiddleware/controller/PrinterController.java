package id.segari.printer.segariprintermiddleware.controller;

import id.segari.printer.segariprintermiddleware.service.ZebraPrinterService;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/v1/printer")
public class PrinterController {
    private final ZebraPrinterService zebraPrinterService;
    private static final String ADDRESS = "USB_DIRECT:20";

    public PrinterController(ZebraPrinterService zebraPrinterService) {
        this.zebraPrinterService = zebraPrinterService;
    }

    @PostMapping("/connect")
    public void connect(){
        zebraPrinterService.connect(ADDRESS);
    }

    @PostMapping("/disconnect")
    public void disconnect(){
        zebraPrinterService.disconnect(ADDRESS);
    }

    @PostMapping("/print")
    public void print(){
        zebraPrinterService.print(ADDRESS, "^XA^PW800^FO25,15^GFA,2730,2730,26,,::::::::Q07,P01E,P03E,P0FE,:O01FE,O03FE,L03F03FE,K01FFC3BE,K07IF7BE,J01KF3E,J03KF7E,J07FF87F7C,J0JF1F78,J03IFC77FFE,K07IF1JFC,K03OF,L0OF8,L07NFC,L01NFE,N0LF8,N0KFC,M01KF018,M03JFE1FFC,M07JFC3IF8,M07JF8JFC,M0KF9JFC,M0KF1JFC,L01KF3JF8gK078,L01JFE3FF3F8gK03C,L03JFE7F807gL03E7,L03JFE7F8gN03FF,L03JFE7F9FgM01FE,L03JFE7F87CgM01C,L07JFE7FC1E,L07JFE3FF07I03FJ07EK07EL03E,L07KF3FFCI01FFE001FF9FC01FF9FC1FCFF9FC,L07KF1IFI03IF003JFC07JFC1FDFF9FC,L07KF8IFC007IF807JFC0KFC1JF1FC,L07KF87IF00JFC0KFC0KFC1JF1FC,L07KFC3IF81FE1FE1KFC1KFC1IFE1FC,L03LF0IFC1FC0FE1FF8FFC1FF8FFC1FF8E1FC,L03LF83FFC3F807F1FE03FC3FE07FC1FF001FC,L03KFBE0FFE3KF3FC01FC3FC03FC1FE001FC,L01KF0F83FE3KF3FC01FC3FC01FC1FC001FC,M0KF07E1FE3KF3FC01FC3F801FC1FC001FC,M0JFE03F9FE7KF3FC01FC3F801FC1FC001FC,M07IFE7071FE3F8I03FC01FC3F801FC1FC001FC,M03IFC7801FE3F8I03FC01FC3FC03FC1FC001FC,M01IF8FE03FE3FC0303FE03FC3FE03FC1FC001FC,N07FF8KFE3FE0781FF07FC3FF0FFC1FC001FC,N03FF1KFC1JFE1KFC1KFC1FC001FC,N01FF3KFC0JFE0KFC1KFC1FC001FC,O07F1KF80JFC0KFC0KFC1FC001FC,O01F87JF003IF807JFC07JFC1FC001FC,P07C1IFC001IF001JFC03FF9FC1FC001FC,Q0703FFJ07FCI07F9FC00FF1FC1FC001FC,gN01FC,:gK01803FC,gK07C07FC,gJ01KFC,gJ01KF8,gK0KF,gK0JFE,gK03IFC,gK01IF,gL01F8,,:::N04008Y01EJ0E,N06018N01FFCM01CI03FC,N0703O01FFCM01CI070C3L03,N0303O01EO01CI0C003L03,N01860F81018DC1E00EE3F03F9FF80C00FE3F066FE,N01861FC3818FC1E00FE7F87F9FFC0E00FC7F87E7E,O0CC3063018E01E00FCF1CE11F3C07002001C783,O0F86033018C01FF8F0E0EE01E1C03F03I0C703,O0786033018C01FF8E1FFEFE1C1C007C3I0C603,O0306033018C01FF8E1FFE7F9C1CI0E303FC603,O0306033018C01E00E1EI0F9C1CI063060C603,O0306031838C01E00E0EI03DC1CI062060C603,O0303061878C01E00E0FFCF39C1C0C0C3061C603,O0301FC0FF8C01E00E07FCFF9C1C0FFC3E7FC601F,O0300F80798C00E00E01F07E1C1C03F01E3EC600E,,::::::::^FSZ^FO0,142^GB800,0,2^FS^FO38,257^GFA,1683,1683,33,K03F,J07IF,I01JFE,I07KF,001LFC,003LFE,007MF8,01NFC,01NFE,03OF,07OF,0PF8gV07E,0PFCgV07E,1F8NFCgV07E,3F87MFEgV07E,3F83MFEK01EJ01FE003C7E01F8I0FF007C3E07E,3FE3NFK0FF9F807FF807DFF8FFE003FFC07DFEJF8,7FEK07IFJ03JF81IFE07IFDIF00IFE07FFEJF8,7FEL0IFJ07JF83JF07MF81JF07FFEJF8,7FFL07FF8I0KF87JF07MFC1JF87FFEJF8,IFL07FF8001FF0FF87F83F87F87FE1FC3F81F87FFC7IF8,IF0041007FF8001FC07F8FE01FC7F03FC0FC3F01F87FI07E,IF004180IF8001F803F8FC00FC7E01F807E1E01F87FI07E,IF004180IF8003F001F8FC00FC7E01F807EI07F87EI07E,IF804180IF8003F001F8F800FC7E01F807E01IF87EI07E,IF804180IF8003F001F8F8007C7E01F807E07IF87EI07E,IF804180IF8003F001F8F8007C7E01F807E0FFEF87CI07E,IF804181IF8003F001F8FC00FC7E01F807E1FF0F87CI07E,IF804181IF8003F001F8FC00FC7E01F807E3F80F87CI07E,IFC04001IF8001F803F8FE01FC7E01F807E3E00F87CI07E,7FFCJ03IF8001FC07F87F03F87E01F807E3E01F87CI07F,7FFEJ07IFI01KF87JF87E01F807E3F07F87CI07FF8,7IFJ0JFJ0KF83JF07E01F807E3JF87CI07FF8,7IFC003JFJ07JF81IFE07E01F807E1JF87CI03FF8,3PFEJ03JF80IF807E01F807E1JF87CI01FF8,3PFEK0FFDF803FF007E01F807E07FCF87CJ0FF8,3IFC3F0IFEK03E1F8V01F,1IFC3F07FFCM01F,0IF81F07FFCJ03003F,0IFC3F07FF8J0FC07F,07FFC7F8IFJ01JFE,03NFEK0JFE,01NFEK07IFC,00NFCK03IF8,007MFM0FFE,003LFEN0E,001LFC,I07KF,I01JFC,J03FFE,,^FS^FO38,327^A0N,52^FDMT-3686976368^FS^FO38,405^A0N,28,36^FD22:23 24 Jun 2025^FS^FO548,255^BQN,2,6,H^FH^FDHA,62510988012/62510988012-24062226-001^FS^FO0,571^GB800,0,2^FS^FO60,592^A0N,23,30^FDWarehouse^FS^FO12,630^FB250,1,0,C,0^A0N,58,64^FDBKS^FS^FO262,571^GB0,119,2^FS^FO375,592^A0N,23,30^FDPIN^FS^FO279,630^FB260,1,0,C,0^A0N,58,80^FD3026^FS^FO531,571^GB0,119,2^FS^FO578,592^A0N,23,30^FDTotal Kemasan^FS^FO543,630^FB255,1,0,C,0^A0N,58,80^FD1/1^FS^FO0,690^GB800,0,2^FS^FO245,795^GFA,2166,2166,38,,I0iPF,003iPFC,00EiP07,018iP018,03iR0C,06iR06,0CiR03,18iR0181iT083iT0C2iT0C6iT066L01CiL066K01FFCiK064K07IFL01FFCM018hL064J01JFCJ01JFCK01FF8gQ0CI06O024J03JFEJ03JFEK07FFER0F8V01EI0FI01CJ024J07KFJ07KFK0JFL03F8003FEV01EI0FI01CJ024J0LF8I0LF8I01JFCK0C06007FF8V0EI07I01CJ024J0LF8I0JFCF8I03JFCJ0300100F8F8gJ01CJ024I01LFC001JFC78I07FF07EJ06I080F038gJ01CJ024I01LFE001FFC1C7CI0FFE07FJ0CI040EJ07E007C601F00E30EI0601F1CJ024I03FC001FE001FF00FFCI0FFC07FJ083E620EI01FF01FEF0FFC0EF1EI0F03FDCJ024I03F8I0FE001FE007FCI0FFC07F800107FE20FI03FF83IF0FFE0FF1EI0F07FFCJ024I03F8I0FE001FE3E3FC001FFC3FF80010F3E30FE003C3C3C3F041E0FC1EI0F0F87CJ024I07F8I0FF001FC7F1FC001FFC7FF80021C1E107FE0781C780FI0F0F01EI0F0E03CJ024I07F8180FF001FC7F1FC001FFC7FF80021C0E103FF0701E780FI0F0F01EI0F1E03CJ024I07F81E0FF001FCFF1FC001FF83FF8002381C1007F87FFE700F07FF0E01EI0F1E01CJ024I07F81C0FF001FCFF1FC001FE007F8002381C1I07CIFE700F0IF0E01EI0F1C01CJ024I07F8100FF001FC7F1FC001FE007F8002381C3I03C7FFE780F1E0F0E01EI0F1E01CJ024I03F8I0FF001FC7E3FC001FE007F80023C3C2I01C7I0781F1C0F0E01EI0F1E03CJ024I03F8I0FE001FE1C3FC001FE007F80021FFE60C03C78003E3F1C0F0E01EI0F1E03CJ024I03F8I0FE001FF007FCI0FFC7FF80010FCFC1F07C38183IF1C0F0E01E0E0F0F07CJ024I03FE003FE001FF80FFCI0FFC7FFI01030701IF83FF81FEF1F3F0E01E1F0F07FFCJ024I01LFC001LF8I07FC7FFJ08K07FF01FF8038F0IF0E01E0F0F07FDCJ024I01LFC001LF8I07FC7FEJ0CK01FE007EJ0F07E70E01E0E0F01F1CJ024J0LF8I0LF8I03FC7FCJ06S0101EgH024J07KFJ0LFJ01FC7F8J01C0CP01C7EgH024J03KFJ07KFK0FC7FL07FQ03FFCgH024J01JFCJ03JFEK03C7CY01FF8gH024K0JF8K0JF8L083gG018gI064K03FFEiK066L07F8iK066iT066iT043iT0C:18iR018:0CiR03,06iR06,03iQ01C,01CiP038,0078iN01E,001iPF8,I01iNF8,^FS^XZ");
    }

    @GetMapping("/usb")
    public String getUsb(){
        return zebraPrinterService.getUsb();
    }
}
